<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Flappy Face</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: linear-gradient(135deg, #667eea, #764ba2);
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
      color: white;
    }

    canvas {
      background: #a0d8ef;
      border: 4px solid white;
      border-radius: 15px;
    }

    h1 {
      margin-bottom: 10px;
      text-shadow: 0 0 10px #000;
    }

    #characterSelect {
      background: rgba(0,0,0,0.8);
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 100;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .character-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 800px;
    }

    .character {
      margin: 10px;
      text-align: center;
      cursor: pointer;
    }

    .character img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid #fff;
      transition: transform 0.2s;
    }

    .character img:hover {
      transform: scale(1.1);
    }

    #score {
      font-size: 24px;
      margin-top: 10px;
    }

    #gameOver {
      position: absolute;
      font-size: 48px;
      font-weight: bold;
      color: #fff;
      text-shadow: 0 0 10px #000;
      display: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>

<h1>üïäÔ∏è Flappy Face</h1>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<div id="score">Score: 0</div>
<div id="gameOver">Game Over<br><button onclick="restart()">Restart</button></div>

<div id="characterSelect">
  <div id="selectTitle" style="font-size: 24px; margin-bottom: 20px;">Select Your Character</div>
  <div class="character-grid" id="characterGrid"></div>
</div>

<script>
  const characters = [
    {
      name: "Jake",
      image: "https://media.licdn.com/dms/image/v2/D5603AQF2Mxo__hFuTg/profile-displayphoto-crop_800_800/B56ZfQ6OpZGoAM-/0/1751556616198?e=1756339200&v=beta&t=aaUQKnSfBrEq41ob6ob-73v1QikQhEjUCF97WKgPdII",
    },
    {
      name: "Josh",
      image: "https://media.licdn.com/dms/image/v2/C4D03AQHSMPD32qcL-Q/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1594858007083?e=1756339200&v=beta&t=NIgiF2IyBWQ-qd_ou059jr9E3sPk7-qD3s3wDQBU6xg",
    },
    {
      name: "Vinnie",
      image: "https://media.licdn.com/dms/image/v2/D5622AQEc-uaGSu04rw/feedshare-shrink_800/feedshare-shrink_800/0/1696256836883?e=2147483647&v=beta&t=8vkbVL0fN-gueUl9qTJJxrPe8kWL3VWpXxHblL6HUz8",
    },
    {
      name: "Brant",
      image: "https://indd.adobe.com/content/2/deac4233-e2bf-459d-8226-c74c87d55e01/3505012381138/package/c94p/publication-web-resources/image/419.png",
    },
    {
      name: "Hari",
      image: "https://media.licdn.com/dms/image/v2/D5603AQGSRDQImRvW5w/profile-displayphoto-shrink_800_800/B56ZbqCEe7GgAg-/0/1747683133712?e=1756339200&v=beta&t=217hEGIBBxkU1KpQ4cBvpXX_Fy3E8EZzjg6bIUp15kI",
    },
    {
      name: "Devin(RIP)",
      image: "https://media.licdn.com/dms/image/v2/D5635AQGMeUiACOKbkw/profile-framedphoto-shrink_200_200/B56Zf7zCOaG0AY-/0/1752276149430?e=1754319600&v=beta&t=_WNsyO0VbPKhYypaYbHHMy-3vbFNk863KjfcIjBb6Dw",
    },
    {
      name: "Brian",
      image: "https://indd.adobe.com/content/2/deac4233-e2bf-459d-8226-c74c87d55e01/3505012381138/package/c94p/publication-web-resources/image/169.png",
    },
  ];

  let selectedImage = null;

  const characterGrid = document.getElementById('characterGrid');
  const characterSelect = document.getElementById('characterSelect');

  characters.forEach(char => {
    const div = document.createElement('div');
    div.classList.add('character');
    div.innerHTML = `<img src="${char.image}" alt="${char.name}"><div>${char.name}</div>`;
    div.onclick = () => {
      selectedImage = new Image();
      selectedImage.src = char.image;
      selectedImage.onload = () => {
        characterSelect.style.display = 'none';
        requestAnimationFrame(gameLoop);
      };
    };
    characterGrid.appendChild(div);
  });

  // === Flappy Bird Game Logic ===
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.getElementById('score');
  const gameOverEl = document.getElementById('gameOver');

  let bird = { x: 80, y: 300, width: 40, height: 40, velocity: 0 };
  let gravity = 0.5;
  let jumpStrength = -8;
  let pipes = [];
  let score = 0;
  let gameRunning = true;

  function resetGame() {
    bird.y = 300;
    bird.velocity = 0;
    pipes = [];
    score = 0;
    gameRunning = true;
    gameOverEl.style.display = 'none';
    requestAnimationFrame(gameLoop);
  }

  function restart() {
    resetGame();
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === " " || e.key === "ArrowUp") {
      bird.velocity = jumpStrength;
    }
  });

  function spawnPipe() {
    const gap = 140;
    const topHeight = Math.floor(Math.random() * (canvas.height - gap - 100)) + 50;
    pipes.push({
      x: canvas.width,
      top: topHeight,
      bottom: canvas.height - (topHeight + gap),
      width: 60,
    });
  }

  setInterval(() => {
    if (gameRunning) spawnPipe();
  }, 1500);

  function gameLoop() {
  if (!gameRunning) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Move bird
  bird.velocity += gravity;
  bird.y += bird.velocity;

  // Draw bird
  if (selectedImage) {
    ctx.drawImage(selectedImage, bird.x, bird.y, bird.width, bird.height);
  }

  // Draw pipes and detect collisions
  for (let i = 0; i < pipes.length; i++) {
    let p = pipes[i];
    p.x -= 3;

    ctx.fillStyle = "#228B22";
    ctx.fillRect(p.x, 0, p.width, p.top);
    ctx.fillRect(p.x, canvas.height - p.bottom, p.width, p.bottom);

    // Collision detection
    if (
      bird.x < p.x + p.width &&
      bird.x + bird.width > p.x &&
      (bird.y < p.top || bird.y + bird.height > canvas.height - p.bottom)
    ) {
      gameRunning = false;
      gameOverEl.style.display = 'block';
      return;
    }

    // Score increase
    if (!p.scored && p.x + p.width < bird.x) {
      p.scored = true;
      score++;
      scoreEl.textContent = "Score: " + score;
    }
  }

  // Ground or ceiling collision
  if (bird.y + bird.height > canvas.height || bird.y < 0) {
    gameRunning = false;
    gameOverEl.style.display = 'block';
    return;
  }

  requestAnimationFrame(gameLoop);
}

</script>

</body>
</html>
